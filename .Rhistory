clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(#!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(waterBody),
is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(waterBody),
is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(waterBody),
!is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(waterBody),
!is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
#is.na(waterBody),
!is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
#is.na(waterBody),
is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
#is.na(waterBody),
!is.na(datasetName)) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(basisOfRecord),
clusterOptions = markerClusterOptions())
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
#is.na(waterBody),
!is.na(datasetName)) %>% dim
# depth
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
ggplot(aes(x = depth, fill = waterBody)) +
geom_histogram()
is.na(datasetName) %>%
dori_obis1 %>%
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(datasetName)) %>%
lapply(., unique)
# ok
dori_obis1 %>%
distinct(datasetName)
dori_obis1 %>%
filter(is.na(datasetName)) %>%
dim
dori_obis1 %>%
filter(is.na(datasetName)) %>%
distinct(waterBody)
# check
dori_obis1 %>%
filter(is.na(datasetName),
waterBody %in% c("North America", "North America Atlantic", "atlantique"))
# check
dori_obis1 %>%
distinct(flags)
# check
dori_obis1 %>%
filter(is.na(datasetName)) %>%
distinct(flags)
# check problemas reportados (flags)
dori_obis1 %>%
distinct(flags)
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land") %>%
# check NA
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land")) %>%
distinct(datasetName)
# check NA
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land")) %>%
distinct(datasetName)
# check NA em datasetName
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(datasetName)) %>%
distinct(waterBody)
# check
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique"))
# check
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(recordedBy),
clusterOptions = markerClusterOptions())
# check
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(recordedBy),
clusterOptions = markerClusterOptions())
# check NA em datasetName
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName)) %>%
distinct(waterBody)
# check NA em datasetName
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(datasetName)) %>%
distinct(waterBody)
# check
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(recordedBy),
clusterOptions = markerClusterOptions())
# check
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
leaflet() %>%
addTiles() %>%
addMarkers(~decimalLongitude, ~decimalLatitude,
popup = ~as.character(datasetName),
label = ~as.character(recordedBy),
clusterOptions = markerClusterOptions())
# depth ok
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
ggplot(aes(x = depth, fill = waterBody)) +
geom_histogram()
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
lapply(., unique)
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
lapply(., unique)
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath")
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
ggplot(aes(depth, bathymetry)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
ggplot(aes(depth, bathymetry*-1)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry, "red", "blue")) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry, "red", "blue")) %>%
select(depth, bathymetry)
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, "red", "blue")) %>%
select(depth, bathymetry)
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, "red", "blue")) %>%
select(depth, bathymetry, flg)
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, "red", "blue")) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, FALSE, TRUE)) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, FALSE, TRUE)) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg) %>%
bind_rows(data.frame(depth = 10, bathymetry = 5, flg = TRUE))
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg) %>%
bind_rows(data.frame(depth = 10, bathymetry = -5, flg = TRUE))
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
bind_rows(data.frame(depth = 10, bathymetry = -5)) %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg)
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
bind_rows(data.frame(depth = 10, bathymetry = -5)) %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
bind_rows(data.frame(depth = 100, bathymetry = -50)) %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
filter(flags == "depth_exceeds_bath") %>%
mutate(flg = ifelse(depth > bathymetry*-1, TRUE, FALSE)) %>%
select(depth, bathymetry, flg) %>%
ggplot(aes(depth, bathymetry*-1, color = flg)) +
geom_point()
dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
lapply(., unique)
dori_obis_ok <- dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique")) %>%
lapply(., unique)
rm(list = setdiff(ls(), c("dori_obis_ok", "dori_gbif_ok")))
###############
## OBIS
dori_obis <- robis::occurrence("Paracanthurus hepatus")
# ok
dori_obis_ok <- dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique"))
dori_obis1 <- dori_obis %>%
select(scientificName, decimalLatitude, decimalLongitude, bathymetry,
flags, waterBody, basisOfRecord, occurrenceStatus, rightsHolder,
datasetName, recordedBy, depth, locality, habitat) %>%
distinct()
# ok
dori_obis_ok <- dori_obis1 %>%
filter(!flags %in% c("no_depth,on_land", "on_land", "on_land,depth_exceeds_bath", "depth_exceeds_bath,on_land"),
!is.na(datasetName),
!waterBody %in% c("North America", "North America Atlantic", "atlantique"))
rm(list = setdiff(ls(), c("dori_obis_ok", "dori_gbif_ok")))
# ver diferencas
setdiff(names(dori_gbif_ok, dori_obis_ok))
# ver diferencas
setdiff(names(dori_gbif_ok), names(dori_obis_ok))
setdiff(names(dori_obis_ok), names(dori_gbif_ok))
bind_rows(dori_gbif_ok %>%
select(intersect(names(dori_gbif_ok), names(dori_obis_ok))),
dori_obis_ok %>%
select(intersect(names(dori_gbif_ok), names(dori_obis_ok))))
bind_rows(dori_gbif_ok %>%
select(intersect(names(dori_gbif_ok), names(dori_obis_ok))),
dori_obis_ok %>%
select(intersect(names(dori_gbif_ok), names(dori_obis_ok)))) %>%
lapply(., unique)
bind_rows(dori_gbif_ok, dori_obis_ok) %>% dim
bind_rows(dori_gbif_ok, dori_obis_ok) %>% head
bind_rows(dori_gbif_ok, dori_obis_ok) %>% data.frame() %>%  head
bind_rows(dori_gbif_ok, dori_obis_ok) %>% names()
bind_rows(dori_gbif_ok, dori_obis_ok)
bind_rows(dori_gbif_ok, dori_obis_ok) %>%
select(decimalLongitude, decimalLatitude, depth)
bind_rows(dori_gbif_ok, dori_obis_ok) %>%
select(decimalLongitude, decimalLatitude, depth) %>%
distinct()
bind_rows(dori_gbif_ok %>%
mutate(repo = "gbif"),
dori_obis_ok%>%
mutate(repo = "obis"))
bind_rows(dori_gbif_ok %>%
mutate(repo = "gbif"),
dori_obis_ok%>%
mutate(repo = "obis")) %>%
select(decimalLongitude, decimalLatitude, depth, repo) %>%
distinct()
bind_rows(dori_gbif_ok %>%
mutate(repo = "gbif"),
dori_obis_ok%>%
mutate(repo = "obis")) %>%
column_to_rownames(repo)
bind_rows(dori_gbif_ok %>%
mutate(repo = paste("gbif", row.names())),
dori_obis_ok%>%
mutate(repo = paste("obis", row.names())))
bind_rows(dori_gbif_ok %>%
mutate(repo = paste("gbif", row.names(.))),
dori_obis_ok%>%
mutate(repo = paste("obis", row.names(.))))
bind_rows(dori_gbif_ok %>%
mutate(repo = paste("gbif", row.names(.))),
dori_obis_ok%>%
mutate(repo = paste("obis", row.names(.)))) %>%
column_to_rownames("repo")
bind_rows(dori_gbif_ok %>%
mutate(repo = paste0("gbif", row.names(.))),
dori_obis_ok%>%
mutate(repo = paste0("obis", row.names(.)))) %>%
column_to_rownames("repo")
select(decimalLongitude, decimalLatitude, depth) %>%
distinct()
bind_rows(dori_gbif_ok %>%
mutate(repo = paste0("gbif", row.names(.))),
dori_obis_ok%>%
mutate(repo = paste0("obis", row.names(.)))) %>%
column_to_rownames("repo") %>%
select(decimalLongitude, decimalLatitude, depth) %>%
distinct()
bind_rows(dori_gbif_ok %>%
mutate(repo = paste0("gbif", row.names(.))),
dori_obis_ok%>%
mutate(repo = paste0("obis", row.names(.)))) %>%
column_to_rownames("repo") %>%
select(decimalLongitude, decimalLatitude, depth) %>%
distinct() %>% dim
all_data <- bind_rows(dori_gbif_ok %>%
mutate(repo = paste0("gbif", row.names(.))),
dori_obis_ok%>%
mutate(repo = paste0("obis", row.names(.)))) %>%
column_to_rownames("repo") %>%
select(decimalLongitude, decimalLatitude, depth) %>%
distinct()
# map the occurrence data:
map("world", xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))  # if the map doesn't appear right at first, run this command again
??map
# map the occurrence data:
maps::map("world", xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))  # if the map doesn't appear right at first, run this command again
points(all_data[ , c("decimalLongitude", "decimalLatitude")], pch = ".", cex = 4, col = "red")
# map the occurrence data:
maps::map("world")#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))  # if the map doesn't appear right at first, run this command again
points(all_data[ , c("decimalLongitude", "decimalLatitude")], pch = ".", cex = 4, col = "red")
# map the occurrence data:
maps::map("world")#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))
points(all_data[ , c("decimalLongitude", "decimalLatitude")], pch = ".", cex = 4, col = "red")
?occ_data
# # baixar ocorrencias
dori_gbif <- occ_data(scientificName = "Paracanthurus hepatus",
hasCoordinate = TRUE,
hasGeospatialIssue=FALSE)
gbif_issues() %>%
data.frame() %>%
filter(code %in% issues_gbif)
# checar problemas reportados
issues_gbif <- dori_gbif$data$issues %>%
unique() %>%
strsplit(., "[,]") %>%
unlist()
# checar problemas reportados
issues_gbif <- dori_gbif$data$issues %>%
unique() %>%
strsplit(., "[,]") %>%
unlist()
gbif_issues() %>%
data.frame() %>%
filter(code %in% issues_gbif)
?dplyr
?distinct
library(rfishbase)
?rfishbase
install.packages('rfishbase')
install.packages('rfishbase')
install.packages("rfishbase")
library(rfishbase)
?rfishbase
species("Paracanthurus hepatus")
par_hepa <- species("Paracanthurus hepatus")
?select
names(par_hepa)
par_hepa %>%
select(DepthRangeShallow, DepthRangeDeep)
par_hepa %>%
dplyr::select(DepthRangeShallow, DepthRangeDeep)
par_hepa %>%
dplyr::select(DepthRangeShallow, DepthRangeDeep, DepthRangeComDeep, DepthRangeRef,
DepthRangeComShallow, DepthComRef)
# map the occurrence data:
maps::map("world", main = "dd")#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))
# map the occurrence data:
maps::map("world", title = "dd")#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))
# map the occurrence data:
maps::map("world", main = "dd")#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))
points(all_data[ , c("decimalLongitude", "decimalLatitude")], pch = ".", cex = 4, col = "red")
# map the occurrence data:
maps::map("world", head = "dd")#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))
?map
# map the occurrence data:
maps::map("world",myborder = 0.01)#, xlim = range(all_data$decimalLongitude), ylim = range(all_data$decimalLatitude))
points(all_data[ , c("decimalLongitude", "decimalLatitude")], pch = ".", cex = 4, col = "red")
